webpackJsonp([28],{114:function(a,e){},170:function(a,e,t){"use strict";function r(a){return a&&a.__esModule?a:{default:a}}var l=t(8),_=r(l),u=t(1),o=r(u),n=t(2),d=r(n);t(114);var p=t(4),s=(r(p),t(7)),i=r(s),c=t(28),y=r(c);o.default.onEvent({eventName:"page_loan_borrow_repayplan",pageName:"loan_borrow"}),o.default.startLoading(),window.vue=new _.default({el:"#wrap",data:{loan_amt:(0,y.default)(i.default.getPar("loan_amt")),rate_txt:"",list:[],repay_day:"",should_repay_amt:"",repay_method:""},created:function(){this.getProductCalculate()},methods:{getProductCalculate:function(){var a=this,e={loan_amt:i.default.getPar("loan_amt"),repay_method:i.default.getPar("repay_method"),installment_num:i.default.getPar("installment_num")};i.default.getPar("coupon_no")&&Object.assign(e,{coupon_no:i.default.getPar("coupon_no")}),d.default.ajax({data:{api_method:"api.loan.product.calculate",biz_content:JSON.stringify(e)},success:function(e){a.repay_day=e.value.auto_repay_day,a.repay_method=e.value.repay_method,a.should_repay_amt=e.value.relay_plan_list[0].should_repay_amt,e.value.reduction_amt&&e.value.should_repay_amt?a.rate_txt="总共应还"+e.value.should_repay_amt+"元，优惠"+e.value.reduction_amt+"元":1==a.repay_method?a.rate_txt="月费率 "+e.value.repay_fee_rate+"  总费用 "+e.value.should_repay_interest_amt+" 元":a.rate_txt="日利率 "+e.value.repay_day_interest+"  利息 "+e.value.should_repay_interest_amt+" 元";var t=(new Date).getFullYear(),r=[];e.value.relay_plan_list.forEach(function(e,l){var _=e.replay_date.slice(0,4),u=e.replay_date.slice(4,6),o=(e.replay_date.slice(6),parseInt(u)+"月");_!=t&&(o=_.slice(2)+"年"+parseInt(u)+"月");var n="本金 "+e.should_repay_principal_amt+" 元 + 利息 "+e.should_repay_interest_amt+" 元";if(1==a.repay_method)var n="本金 "+e.should_repay_principal_amt+" 元 + 期费用 "+e.should_repay_interest_amt+" 元";var d={month:o,should_repay_amt:e.should_repay_amt,txt:n};r.push(d)}),a.list=r},complete:function(){o.default.stopLoading()}})}}})},28:function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(a){return(a+"").replace(/(\d)(?=(\d{3})+$)/g,"$1,")}}},[170]);